<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>House Listings</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: #f4f6f8;
    }

    header {
      background: #1e293b;
      color: white;
      padding: 20px;
      text-align: center;
    }

    .filters {
      display: flex;
      gap: 10px;
      padding: 15px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .filters input,
    .filters select {
      padding: 10px;
      width: 200px;
    }

    .listings {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 15px;
      padding: 20px;
    }

    .card {
      background: white;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
    }

    .card-content {
      padding: 15px;
    }

    .card h3 {
      margin: 0 0 5px;
    }

    .card button {
      margin-top: 10px;
      padding: 10px;
      width: 100%;
      border: none;
      background: #2563eb;
      color: white;
      cursor: pointer;
      border-radius: 4px;
      font-size: 15px;
    }

    /* Floating WhatsApp Button */
    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25d366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 30px;
      text-decoration: none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
    }
  </style>
</head>

<body>

  <header>
    <h1>Find Houses for Rent & Sale</h1>
    <p>Magboro â€¢ Mowe â€¢ Arepo â€¢ Berger</p>
  </header>

  <section class="filters">
    <input type="text" id="searchInput" placeholder="Search by location..." />
    <select id="typeFilter">
      <option value="">All</option>
      <option value="Rent">Rent</option>
      <option value="Sale">Sale</option>
    </select>
  </section>

  <section id="listings" class="listings">
    <!-- Houses will appear here -->
  </section>

  <!-- Floating WhatsApp for Agents -->
  <a 
    href="https://wa.me/2348012345678?text=Hello,%20I%20want%20to%20list%20my%20property%20on%20your%20website"
    class="whatsapp-float"
    target="_blank"
    title="List your property"
  >
    ðŸ’¬
  </a>

  <script>
    const houses = [
      {
        id: 0,
        title: "2 Bedroom Flat",
        location: "Magboro",
        price: "â‚¦600,000 / year",
        type: "Rent",
        agent: "Mr. Ade",
        phone: "08012345678",
        image: "https://images.unsplash.com/photo-1568605114967-8130f3a36994"
      },
      {
        id: 1,
        title: "3 Bedroom Duplex",
        location: "Mowe",
        price: "â‚¦25,000,000",
        type: "Sale",
        agent: "Mrs. Kemi",
        phone: "08198765432",
        image: "https://images.unsplash.com/photo-1570129477492-45c003edd2be"
      }
    ];

    const listings = document.getElementById("listings");
    const searchInput = document.getElementById("searchInput");
    const typeFilter = document.getElementById("typeFilter");

    function displayHouses(data) {
  listings.innerHTML = "";
  data.forEach(house => {
    listings.innerHTML += `
      <div class="card" onclick="openProperty(${houses.indexOf(house)})" style="cursor:pointer;">
  <img src="${house.image}" alt="${house.title}">
  <div class="card-content">
    <h3>${house.title}</h3>
    <p><strong>Location:</strong> ${house.location}</p>
    <p><strong>Price:</strong> ${house.price}</p>
    <p><strong>Agent:</strong> ${house.agent}</p>
    <button onclick="event.stopPropagation(); window.open('https://wa.me/234${house.phone.substring(1)}','_blank')">
      Contact Agent on WhatsApp
    </button>
  </div>
</div>
    `;
  });
}

    function openProperty(id) {
  window.location.href = `property.html?id=${id}`;
}

    function filterHouses() {
      const search = searchInput.value.toLowerCase();
      const type = typeFilter.value;

      const filtered = houses.filter(house =>
        house.location.toLowerCase().includes(search) &&
        (type === "" || house.type === type)
      );

      displayHouses(filtered);
    }

    searchInput.addEventListener("input", filterHouses);
    typeFilter.addEventListener("change", filterHouses);

    displayHouses(houses);
  </script>

</body>
</html>
