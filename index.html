<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>House Listings</title>

  <style>
    :root {
      --primary: #2563eb;
      --dark: #1e293b;
      --bg: #f4f6f8;
      --card: #ffffff;
      --text: #334155;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
      line-height: 1.5;
    }

    header {
      background: linear-gradient(135deg, #1e293b, #334155);
      color: white;
      padding: 40px 16px;
      text-align: center;
    }

    header h1 {
      margin: 0;
      font-size: 1.6rem;
    }

    header p {
      margin-top: 6px;
      font-size: 0.95rem;
      opacity: 0.9;
    }

    /* SITE LOGO */
.site-logo {
  height: 140px;
  width: auto;
  max-width: none;
  display: block;
  margin: 0 auto 10px;
}

/* Mobile */
@media (max-width: 600px) {
  .site-logo {
    height: 100px;
  }
}

    .filters {
      display: flex;
      gap: 10px;
      padding: 15px;
      justify-content: center;
      flex-wrap: wrap;
      background: #ffffff;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .filters input,
    .filters select {
      padding: 12px;
      width: 200px;
      border-radius: 6px;
      border: 1px solid #cbd5e1;
      font-size: 14px;
    }

    /* ADS SECTION */
.ads-section {
  max-width: 1200px;
  margin: 20px auto;
  padding: 0 12px;
}

.ad-banner {
  position: relative;
  background: #f8fafc;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
}

.ad-banner img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  display: block;
}

/* Sponsored label */
.ad-label {
  position: absolute;
  top: 10px;
  left: 10px;
  background: rgba(0,0,0,0.7);
  color: #fff;
  font-size: 0.7rem;
  padding: 4px 8px;
  border-radius: 6px;
}

/* Mobile optimization */
@media (max-width: 600px) {
  .ad-banner img {
    height: 120px;
  }
}

    .listings {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 18px;
      padding: 20px;
      max-width: 1200px;
      margin: auto;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      overflow: hidden;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.12);
    }

    .card img {
      width: 100%;
      height: 190px;
      object-fit: cover;
      display: block;
    }

    .card-content {
      padding: 16px;
    }

    .card h3 {
      margin: 0 0 8px;
      font-size: 1.1rem;
      color: #0f172a;
    }

    .card p {
      margin: 4px 0;
      font-size: 0.9rem;
    }

    .card button {
      margin-top: 12px;
      padding: 12px;
      width: 100%;
      border: none;
      background: var(--primary);
      color: white;
      cursor: pointer;
      border-radius: 8px;
      font-size: 15px;
    }

    .card button:hover {
      background: #1d4ed8;
    }

    .agent-contact {
  background: #f8fafc;
  padding: 8px;
  border-radius: 8px;
}

  .card-click {
  cursor: pointer;
}

    /* Floating WhatsApp Button */
    .whatsapp-float {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25d366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      text-decoration: none;
      box-shadow: 0 8px 20px rgba(0,0,0,0.35);
      z-index: 1000;
    }

    /* -------- MOBILE OPTIMIZATION -------- */
    @media (max-width: 600px) {
      header h1 {
        font-size: 1.3rem;
      }

      .filters input,
      .filters select {
        width: 100%;
        max-width: 100%;
      }

      .listings {
        padding: 14px;
        gap: 14px;
      }

      .card img {
        height: 160px;
      }

      .card-content {
        padding: 14px;
      }

      .whatsapp-float {
        width: 54px;
        height: 54px;
        font-size: 24px;
      }
    }

    .site-footer {
  background: #0f172a;
  color: #e5e7eb;
  padding: 40px 20px 20px;
  margin-top: 40px;
}

.footer-container {
  max-width: 1200px;
  margin: auto;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 30px;
}

.footer-section h4 {
  margin-bottom: 12px;
  font-size: 1.05rem;
  color: #ffffff;
}

.footer-section p,
.footer-section a {
  font-size: 0.9rem;
  color: #cbd5e1;
  text-decoration: none;
  display: block;
  margin-bottom: 6px;
}

.footer-section a:hover {
  color: #38bdf8;
}

.social-links a {
  margin-right: 12px;
  display: inline-block;
}

.footer-bottom {
  text-align: center;
  margin-top: 30px;
  padding-top: 15px;
  border-top: 1px solid #1e293b;
  font-size: 0.85rem;
  color: #94a3b8;
}
    .footer-logo {
  height: 55px;
  width: auto;
}
  </style>
</head>

<body>

  <header>
  <img 
  src="Propconnect112.png" 
  alt="PropConnect Logo" 
  class="site-logo"
/>
  <p>Rent ‚Ä¢ Buy ‚Ä¢ Lease</p>
    <p>
  <a href="favourites.html" style="color:#fff; text-decoration:underline;">
    ‚ù§Ô∏è View Saved Properties
  </a>
</p>
</header>

<section class="filters">
  <select id="stateFilter">
    <option value="">Select State</option>
  </select>

  <select id="lgaFilter" disabled>
    <option value="">Select Local Government</option>
  </select>

  <input type="text" id="townFilter" placeholder="Town / Area" />

  <select id="propertyTypeFilter">
    <option value="">All Property Types</option>
    <option value="Mini-Flat">Mini-Flat</option>
    <option value="Duplex">Duplex</option>
    <option value="Condo">Condo</option>
    <option value="Bungalow">Bungalow</option>
  </select>
  <select id="purposeFilter">
  <option value="">Rent / Buy / Lease</option>
  <option value="rent">Rent</option>
  <option value="buy">Buy</option>
  <option value="lease">Lease</option>
</select>
</section>

  <section class="ads-section">
  <div class="ad-banner">
    <span class="ad-label">Sponsored</span>
    <img src="ads/sample-ad.jpg" alt="Advertisement">
  </div>
</section>

  <section id="listings" class="listings">
    <!-- Houses will appear here -->
  </section>

  <!-- Floating WhatsApp for Agents -->
  <a 
    href="https://wa.me/2348012345678?text=Hello,%20I%20want%20to%20list%20my%20property%20on%20your%20website"
    class="whatsapp-float"
    target="_blank"
    title="List your property"
  >
    üí¨
  </a>

  <footer class="site-footer">
  <div class="footer-container">

    <div class="footer-section">
      <img 
  src="Propconnect112.png" 
  alt="PropConnect Logo" 
  class="footer-logo"
/>
      <p>
        Your trusted platform for renting, buying, and leasing properties
        across Lagos, Ogun, and beyond.
      </p>
    </div>

    <div class="footer-section">
      <h4>Contact Us</h4>
      <p>üìç 15 Adeola Street, Ikeja, Lagos</p>
      <p>üìû +234 801 234 5678</p>
      <p>‚úâÔ∏è info@mainlandproperties.ng</p>
    </div>

    <div class="footer-section">
      <h4>Quick Links</h4>
      <a href="index.html">Home</a>
      <a href="favourites.html">Saved Properties</a>
      <a href="#">List Your Property</a>
      <a href="#">Advertise With Us</a>
    </div>

    <div class="footer-section">
      <h4>Follow Us</h4>
      <div class="social-links">
        <a href="#">Facebook</a>
        <a href="#">Instagram</a>
        <a href="#">Twitter (X)</a>
      </div>
    </div>

  </div>

  <div class="footer-bottom">
    ¬© <span id="year"></span> PropConnect. All rights reserved.
  </div>
</footer>

 <script>
/* ---------------- DATA ---------------- */

const houses = [
  {
    id: 0,
    title: "2 Bedroom Flat",
    state: "Ogun",
    lga: "Obafemi Owode",
    town: "Magboro",
    propertyType: "Mini-Flat",
    purpose: "rent",
    location: "Magboro",
    price: "‚Ç¶600,000 / year",
    agent: "Mr. Ade",
    phone: "+2348134894858",
    images: [
      "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
      "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
      "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
    ]
  },
  {
  id: 1,
  title: "2 Bedroom Flat",
  state: "Abia",
  lga: "Aba North",
  town: "Ogbor Hill",
  propertyType: "Mini-Flat",
  purpose: "rent",
  location: "Ogbor Hill",
  price: "‚Ç¶450,000 / year",
  agent: "Mr. Chinedu",
  phone: "+2348031110001",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 2,
  title: "3 Bedroom Bungalow",
  state: "Abia",
  lga: "Umuahia North",
  town: "Umuahia",
  propertyType: "Bungalow",
  purpose: "buy",
  location: "Umuahia",
  price: "‚Ç¶18,000,000",
  agent: "Mrs. Ngozi",
  phone: "+2348031110002",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 3,
  title: "4 Bedroom Duplex",
  state: "Abia",
  lga: "Isiala Ngwa South",
  town: "Omoba",
  propertyType: "Duplex",
  purpose: "lease",
  location: "Omoba",
  price: "‚Ç¶2,500,000 / year",
  agent: "Mr. Emeka",
  phone: "+2348031110003",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},

/* ================= ADAMAWA ================= */

{
  id: 4,
  title: "2 Bedroom Flat",
  state: "Adamawa",
  lga: "Yola North",
  town: "Jimeta",
  propertyType: "Mini-Flat",
  purpose: "rent",
  location: "Jimeta",
  price: "‚Ç¶350,000 / year",
  agent: "Mr. Sadiq",
  phone: "+2348031110004",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 5,
  title: "3 Bedroom Bungalow",
  state: "Adamawa",
  lga: "Yola South",
  town: "Bole",
  propertyType: "Bungalow",
  purpose: "buy",
  location: "Bole",
  price: "‚Ç¶15,500,000",
  agent: "Mrs. Aisha",
  phone: "+2348031110005",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 6,
  title: "4 Bedroom Duplex",
  state: "Adamawa",
  lga: "Mubi North",
  town: "Mubi",
  propertyType: "Duplex",
  purpose: "lease",
  location: "Mubi",
  price: "‚Ç¶1,800,000 / year",
  agent: "Mr. Abdullahi",
  phone: "+2348031110006",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},

/* ================= LAGOS ================= */

{
  id: 7,
  title: "2 Bedroom Apartment",
  state: "Lagos",
  lga: "Eti-Osa",
  town: "Lekki Phase 1",
  propertyType: "Condo",
  purpose: "rent",
  location: "Lekki Phase 1",
  price: "‚Ç¶2,200,000 / year",
  agent: "Mr. Tunde",
  phone: "+2348031110007",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 8,
  title: "4 Bedroom Terrace Duplex",
  state: "Lagos",
  lga: "Ikeja",
  town: "GRA Ikeja",
  propertyType: "Duplex",
  purpose: "buy",
  location: "Ikeja GRA",
  price: "‚Ç¶95,000,000",
  agent: "Mrs. Kemi",
  phone: "+2348031110008",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
{
  id: 9,
  title: "3 Bedroom Flat",
  state: "Lagos",
  lga: "Surulere",
  town: "Bode Thomas",
  propertyType: "Flat",
  purpose: "lease",
  location: "Bode Thomas",
  price: "‚Ç¶3,000,000 / year",
  agent: "Mr. Kunle",
  phone: "+2348031110009",
  images: [
    "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
    "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
    "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
  ]
},
  {
  id: 10,
  title: "2 Bedroom Flat",
  state: "Abia",
  lga: "Umuahia North",
  town: "Umuahia",
  propertyType: "Flat",
  purpose: "rent",
  location: "Umuahia",
  price: "‚Ç¶650,000",
  agent: "Mr. Chinedu",
  phone: "+2348012345671",
  images: ["https://images.unsplash.com/photo-1568605114967-8130f3a36994"]
},
{
  id: 11,
  title: "4 Bedroom Duplex",
  state: "Abia",
  lga: "Aba South",
  town: "Aba",
  propertyType: "Duplex",
  purpose: "sale",
  location: "Aba",
  price: "‚Ç¶35,000,000",
  agent: "Mrs. Ifunanya",
  phone: "+2348012345672",
  images: ["https://images.unsplash.com/photo-1570129477492-45c003edd2be"]
},
{
  id: 12,
  title: "Mini Flat",
  state: "Abia",
  lga: "Isiala Ngwa",
  town: "Okpuala",
  propertyType: "Mini Flat",
  purpose: "rent",
  location: "Okpuala",
  price: "‚Ç¶450,000",
  agent: "Mr. Emeka",
  phone: "+2348012345673",
  images: ["https://images.unsplash.com/photo-1600585154340-be6161a56a0c"]
},

{
  id: 13,
  title: "3 Bedroom Bungalow",
  state: "Adamawa",
  lga: "Yola North",
  town: "Jimeta",
  propertyType: "Bungalow",
  purpose: "sale",
  location: "Yola",
  price: "‚Ç¶18,000,000",
  agent: "Mr. Musa",
  phone: "+2348012345674",
  images: ["https://images.unsplash.com/photo-1568605114967-8130f3a36994"]
},
{
  id: 14,
  title: "2 Bedroom Flat",
  state: "Adamawa",
  lga: "Girei",
  town: "Girei",
  propertyType: "Flat",
  purpose: "rent",
  location: "Girei",
  price: "‚Ç¶500,000",
  agent: "Mrs. Halima",
  phone: "+2348012345675",
  images: ["https://images.unsplash.com/photo-1570129477492-45c003edd2be"]
},
{
  id: 15,
  title: "Self Contain",
  state: "Adamawa",
  lga: "Mubi North",
  town: "Mubi",
  propertyType: "Self Contain",
  purpose: "rent",
  location: "Mubi",
  price: "‚Ç¶300,000",
  agent: "Mr. Sadiq",
  phone: "+2348012345676",
  images: ["https://images.unsplash.com/photo-1600585154340-be6161a56a0c"]
},

{
  id: 16,
  title: "4 Bedroom Detached Duplex",
  state: "Akwa Ibom",
  lga: "Uyo",
  town: "Ewet Housing",
  propertyType: "Duplex",
  purpose: "sale",
  location: "Uyo",
  price: "‚Ç¶45,000,000",
  agent: "Mrs. Grace",
  phone: "+2348012345677",
  images: ["https://images.unsplash.com/photo-1568605114967-8130f3a36994"]
},
{
  id: 17,
  title: "3 Bedroom Flat",
  state: "Akwa Ibom",
  lga: "Ikot Ekpene",
  town: "Ikot Ekpene",
  propertyType: "Flat",
  purpose: "rent",
  location: "Ikot Ekpene",
  price: "‚Ç¶750,000",
  agent: "Mr. Etim",
  phone: "+2348012345678",
  images: ["https://images.unsplash.com/photo-1570129477492-45c003edd2be"]
},
{
  id: 18,
  title: "Mini Flat",
  state: "Akwa Ibom",
  lga: "Eket",
  town: "Eket",
  propertyType: "Mini Flat",
  purpose: "rent",
  location: "Eket",
  price: "‚Ç¶400,000",
  agent: "Mrs. Comfort",
  phone: "+2348012345679",
  images: ["https://images.unsplash.com/photo-1600585154340-be6161a56a0c"]
},

   {
    id: 19,
    title: "3 Bedroom Duplex",
    state: "Lagos",
    lga: "Yaba",
    town: "Alagomeji",
    propertyType: "Duplex",
    purpose: "lease",
    location: "Mowe",
    price: "‚Ç¶1,000,000",
    agent: "Mrs. Kemi",
    phone: "+2348134894858",
    images: [
      "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
      "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
      "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
    ]
  },
  {
    id: 20,
    title: "3 Bedroom Duplex",
    state: "Ogun",
    lga: "Obafemi Owode",
    town: "Mowe",
    propertyType: "Duplex",
    purpose: "buy",
    location: "Mowe",
    price: "‚Ç¶25,000,000",
    agent: "Mrs. Kemi",
    phone: "+2348134894858",
    images: [
      "https://images.unsplash.com/photo-1568605114967-8130f3a36994",
      "https://images.unsplash.com/photo-1570129477492-45c003edd2be",
      "https://images.unsplash.com/photo-1600585154340-be6161a56a0c"
    ]
  }
];



   function getFavourites() {
  return JSON.parse(localStorage.getItem("favourites")) || [];
}

function toggleFavourite(id, btn) {
  let favs = getFavourites();

  if (favs.includes(id)) {
    favs = favs.filter(f => f !== id);
    btn.innerHTML = "‚ù§Ô∏è Save";
    alert("Removed from favourites");
  } else {
    favs.push(id);
    btn.innerHTML = "üíî Saved";
    alert("Saved to favourites");
  }

  localStorage.setItem("favourites", JSON.stringify(favs));
}

/* ================= DATA ================= */

const nigeriaStatesLGAs = {
  "Abia": ["Aba North", "Aba South", "Arochukwu", "Bende", "Ikwuano"],
  "Adamawa": ["Yola North", "Yola South", "Mubi North", "Mubi South"],
  "Akwa Ibom": ["Uyo", "Eket", "Ikot Ekpene"],
  "Anambra": ["Awka North", "Awka South", "Onitsha North", "Onitsha South"],
  "Bauchi": ["Bauchi", "Katagum", "Misau"],
  "Bayelsa": ["Yenagoa", "Brass", "Ogbia"],
  "Benue": ["Makurdi", "Gboko", "Otukpo"],
  "Borno": ["Maiduguri", "Jere", "Biu"],
  "Cross River": ["Calabar Municipal", "Calabar South", "Ogoja"],
  "Delta": ["Warri South", "Warri North", "Sapele", "Asaba"],
  "Ebonyi": ["Abakaliki", "Afikpo North"],
  "Edo": ["Oredo", "Ikpoba-Okha", "Egor"],
  "Ekiti": ["Ado-Ekiti", "Ikere", "Oye"],
  "Enugu": ["Enugu East", "Enugu North", "Enugu South", "Nsukka", "Udi"],
  "FCT": ["Abuja Municipal", "Gwagwalada", "Kuje", "Kwali"],
  "Gombe": ["Gombe", "Kaltungo"],
  "Imo": ["Owerri Municipal", "Owerri North", "Orlu"],
  "Jigawa": ["Dutse", "Hadejia"],
  "Kaduna": ["Kaduna North", "Kaduna South", "Zaria"],
  "Kano": ["Nassarawa", "Tarauni", "Fagge"],
  "Katsina": ["Katsina", "Daura"],
  "Kebbi": ["Birnin Kebbi", "Argungu"],
  "Kogi": ["Lokoja", "Okene"],
  "Kwara": ["Ilorin West", "Ilorin East"],
  "Lagos": ["Ikeja", "Lekki", "Eti-Osa", "Surulere", "Yaba"],
  "Nasarawa": ["Lafia", "Keffi"],
  "Niger": ["Minna", "Bida"],
  "Ogun": ["Obafemi Owode", "Ado-Odo/Ota", "Sagamu", "Ifo"],
  "Ondo": ["Akure South", "Owo"],
  "Osun": ["Osogbo", "Ile-Ife"],
  "Oyo": ["Ibadan North", "Ibadan South-West", "Ogbomosho"],
  "Plateau": ["Jos North", "Jos South"],
  "Rivers": ["Port Harcourt", "Obio-Akpor"],
  "Sokoto": ["Sokoto North", "Wamakko"],
  "Taraba": ["Jalingo", "Wukari"],
  "Yobe": ["Damaturu", "Potiskum"],
  "Zamfara": ["Gusau", "Kaura Namoda"]
};

/* ================= DOM ================= */

const stateFilter = document.getElementById("stateFilter");
const lgaFilter = document.getElementById("lgaFilter");
const townFilter = document.getElementById("townFilter");
const propertyTypeFilter = document.getElementById("propertyTypeFilter");
const purposeFilter = document.getElementById("purposeFilter");

/* ================= POPULATE STATES ================= */

Object.keys(nigeriaStatesLGAs).forEach(state => {
  const option = document.createElement("option");
  option.value = state;
  option.textContent = state;
  stateFilter.appendChild(option);
});

   function displayHouses(data) {
  const listings = document.getElementById("listings");
  listings.innerHTML = "";

  if (data.length === 0) {
    listings.innerHTML = "<p style='text-align:center'>No properties found</p>";
    return;
  }

  data.forEach(house => {
  listings.innerHTML += `
    <div class="card">
      <div class="card-click" onclick="openProperty(${house.id})">
        <img src="${house.images[0]}" alt="${house.title}">
        <div class="card-content">
          <h3>${house.title}</h3>
          <p><strong>Location:</strong> ${house.town}, ${house.state}</p>
          <p><strong>Price:</strong> ${house.price}</p>
          <p><strong>Agent:</strong> ${house.agent}</p>
        </div>
      </div>

      <div style="padding:16px; display:flex; gap:8px;">
        <button onclick="toggleAgentContact(${house.id}, this)">
          Contact Agent
        </button>

        <button 
          onclick="toggleFavourite(${house.id}, this)"
          style="background:#e5e7eb; color:#111;"
        >
          ${getFavourites().includes(house.id) ? "üíî Saved" : "‚ù§Ô∏è Save"}
        </button>
      </div>
    </div>
  `;
});
}


/* ================= FILTER FUNCTION ================= */

function filterHouses() {
  const state = stateFilter.value;
  const lga = lgaFilter.value ? lgaFilter.value.toLowerCase() : "";
  const town = townFilter.value.toLowerCase();
  const type = propertyTypeFilter.value;
  const purpose = purposeFilter.value;

  const filtered = houses.filter(house =>
  (state === "" || house.state === state) &&
  (lga === "" || house.lga.toLowerCase() === lga) &&
  house.town.toLowerCase().includes(town) &&
  (type === "" || house.propertyType === type) &&
  (purpose === "" || house.purpose === purpose)
);

  displayHouses(filtered);
}

/* ================= EVENTS ================= */

stateFilter.addEventListener("change", () => {
  lgaFilter.innerHTML = `<option value="">Select Local Government</option>`;
  lgaFilter.disabled = true;

  if (!stateFilter.value) {
    filterHouses();
    return;
  }

  nigeriaStatesLGAs[stateFilter.value].forEach(lga => {
    const opt = document.createElement("option");
    opt.value = lga;
    opt.textContent = lga;
    lgaFilter.appendChild(opt);
  });

  lgaFilter.disabled = false;
  filterHouses();
});

lgaFilter.addEventListener("change", filterHouses);
townFilter.addEventListener("input", filterHouses);
propertyTypeFilter.addEventListener("change", filterHouses);
purposeFilter.addEventListener("change", filterHouses);

function openProperty(id) {
  // Save selected property ID
  localStorage.setItem("selectedPropertyId", id);

  // Redirect to property page
  window.location.href = "property.html";
}

   function revealPhone(button, phone) {
  button.textContent = `üì± ${phone}`;
  button.disabled = true;
  button.style.background = "#16a34a";
}

/* ================= INIT ================= */

displayHouses(houses);

   localStorage.setItem("houses_backup", JSON.stringify(houses));

   function toggleAgentContact(id, btn) {
  const house = houses.find(h => h.id === id);

  // Prevent duplicate rendering
  if (btn.nextElementSibling && btn.nextElementSibling.classList.contains("agent-contact")) {
    btn.nextElementSibling.remove();
    return;
  }

  const wrapper = document.createElement("div");
  wrapper.className = "agent-contact";
  wrapper.style.marginTop = "8px";
  wrapper.style.fontSize = "14px";

  // Phone number text
  const phoneText = document.createElement("p");
  phoneText.textContent = `üìû ${house.phone}`;
  phoneText.style.margin = "4px 0";

  wrapper.appendChild(phoneText);

  // MOBILE ONLY ‚Äî Call Now button
  if (window.innerWidth <= 768) {
    const callBtn = document.createElement("a");
    const cleanNumber = house.phone.startsWith("0")
  ? `+234${house.phone.slice(1)}`
  : house.phone;

callBtn.href = `tel:${cleanNumber}`;
    callBtn.textContent = "üì≤ Call Now";
    callBtn.style.display = "inline-block";
    callBtn.style.marginTop = "6px";
    callBtn.style.padding = "8px 12px";
    callBtn.style.background = "#16a34a";
    callBtn.style.color = "#fff";
    callBtn.style.borderRadius = "6px";
    callBtn.style.textDecoration = "none";
    callBtn.style.fontSize = "14px";

    wrapper.appendChild(callBtn);
  }

  btn.after(wrapper);
}

  document.getElementById("year").textContent = new Date().getFullYear();
</script>
  
</body>
</html>
